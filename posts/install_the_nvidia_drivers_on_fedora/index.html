<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="Mohammed Tayeh">
<meta name="description" content="This is guide, how to install NVIDIA proprietary drivers on Fedora 33 with Hybrid Switchable Graphics [Intel &#43; Nvidia GeForce]
 Backup important files before you start installation. And this is of course at your own risk, because graphic cards, components and monitors are different and some combinations might cause totally unexpected results.
 identify your Nvidia graphic lspci -vnn | grep VGA the output of the above command will be like:" />
<meta name="keywords" content="tayeh, Mohammed Tayeh, fedora, NVIDIA, Hybrid-Graphics" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="" />
<link rel="canonical" href="https://tayeh.me/posts/install_the_nvidia_drivers_on_fedora/" />

<script async src="https://www.googletagmanager.com/gtag/js?id=G-1XPWRCJ5NQ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-1XPWRCJ5NQ');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2909878942998418"
     crossorigin="anonymous"></script>

    <title>
        
            How to install the NVIDIA drivers on Fedora 33 with Hybrid Switchable Graphics :: Hi! I&#39;m Mohammed Tayeh 😄  — Site Reliability Engineering (DevOps Engineer)
        
    </title>



<link href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css" rel="stylesheet"
    type="text/css">



<link rel="stylesheet" href="/main.f689dc56b9999a2a00143dd7de85be2983b831b46ccfe143481bb16d3bd1451b.css">



    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="">
    <link rel="shortcut icon" href="/favicon.ico">
    <meta name="msapplication-TileColor" content="">


<meta itemprop="name" content="How to install the NVIDIA drivers on Fedora 33 with Hybrid Switchable Graphics">
<meta itemprop="description" content="This is guide, how to install NVIDIA proprietary drivers on Fedora 33 with Hybrid Switchable Graphics [Intel &#43; Nvidia GeForce]
 Backup important files before you start installation. And this is of course at your own risk, because graphic cards, components and monitors are different and some combinations might cause totally unexpected results.
 identify your Nvidia graphic lspci -vnn | grep VGA the output of the above command will be like:">
<meta itemprop="datePublished" content="2020-11-25T09:27:21+02:00" />
<meta itemprop="dateModified" content="2020-11-25T09:27:21+02:00" />
<meta itemprop="wordCount" content="310">
<meta itemprop="image" content="https://tayeh.me"/>



<meta itemprop="keywords" content="fedora,NVIDIA,Hybrid-Graphics," />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://tayeh.me"/>

<meta name="twitter:title" content="How to install the NVIDIA drivers on Fedora 33 with Hybrid Switchable Graphics"/>
<meta name="twitter:description" content="This is guide, how to install NVIDIA proprietary drivers on Fedora 33 with Hybrid Switchable Graphics [Intel &#43; Nvidia GeForce]
 Backup important files before you start installation. And this is of course at your own risk, because graphic cards, components and monitors are different and some combinations might cause totally unexpected results.
 identify your Nvidia graphic lspci -vnn | grep VGA the output of the above command will be like:"/>




    <meta property="og:title" content="How to install the NVIDIA drivers on Fedora 33 with Hybrid Switchable Graphics" />
<meta property="og:description" content="This is guide, how to install NVIDIA proprietary drivers on Fedora 33 with Hybrid Switchable Graphics [Intel &#43; Nvidia GeForce]
 Backup important files before you start installation. And this is of course at your own risk, because graphic cards, components and monitors are different and some combinations might cause totally unexpected results.
 identify your Nvidia graphic lspci -vnn | grep VGA the output of the above command will be like:" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://tayeh.me/posts/install_the_nvidia_drivers_on_fedora/" />
<meta property="og:image" content="https://tayeh.me"/>
<meta property="article:published_time" content="2020-11-25T09:27:21+02:00" />
<meta property="article:modified_time" content="2020-11-25T09:27:21+02:00" /><meta property="og:site_name" content="Hi! I&#39;m Mohammed Tayeh 😄" />






    <meta property="article:published_time" content="2020-11-25 09:27:21 &#43;0200 EET" />










    </head>

    
        <body>
    
    
        <div class="container">
            <header class="header">
    <span class="header__inner">
        <a href="/" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">></span>
            <span class="logo__text">$ cd ~</span>
            <span class="logo__cursor" style=
                  "
                   
                   ">
            </span>
        
    </div>
</a>


        <span class="header__right">
            
                <nav class="menu">
    <ul class="menu__inner"><li><a href="/about/">~/about</a></li><li><a href="/posts">~/posts</a></li><li><a href="/uses">~/uses</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
            
                <span class="theme-toggle not-selectable"><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
   <path d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
   3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
   13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"/>
 </svg></span>
        </span>
    </span>
</header>


            <div class="content">
                
  <main class="post">

    <div class="post-info">
      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock">
          <circle cx="12" cy="12" r="10"></circle>
          <polyline points="12 6 12 12 16 14"></polyline>
        </svg>
        2 minutes

        
      </p>
    </div>

    <article>
      <h1 class="post-title">
        <a href="https://tayeh.me/posts/install_the_nvidia_drivers_on_fedora/">How to install the NVIDIA drivers on Fedora 33 with Hybrid Switchable Graphics</a>
      </h1>

      

      

      

      <div class="post-content">
        <p>This is guide, how to install NVIDIA proprietary drivers on Fedora 33 with Hybrid Switchable Graphics [Intel + Nvidia GeForce]</p>
<blockquote>
<p>Backup important files before you start installation. And this is of course at your own risk, because graphic cards, components and monitors are different and some combinations might cause totally unexpected results.</p>
</blockquote>
<h3 id="identify-your-nvidia-graphic">identify your Nvidia graphic</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">lspci -vnn | grep VGA
</code></pre></div><p>the output of the above command will be like:</p>
<pre><code>00:02.0 VGA compatible controller [0300]: Intel Corporation UHD Graphics [8086:9bc4] (rev 05) (prog-if 00 [VGA controller])
01:00.0 VGA compatible controller [0300]: NVIDIA Corporation TU116M [GeForce GTX 1660 Ti Mobile] [10de:2191] (rev a1) (prog-if 00 [VGA controller])
</code></pre><h3 id="enable-rpm-fusion">Enable RPM fusion</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo dnf install https://mirrors.rpmfusion.org/free/fedora/rpmfusion-free-release-<span style="color:#66d9ef">$(</span>rpm -E %fedora<span style="color:#66d9ef">)</span>.noarch.rpm https://mirrors.rpmfusion.org/nonfree/fedora/rpmfusion-nonfree-release-<span style="color:#66d9ef">$(</span>rpm -E %fedora<span style="color:#66d9ef">)</span>.noarch.rpm
</code></pre></div><h3 id="update-your-system">update your system</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo dnf update
</code></pre></div><blockquote>
<p>It is recommended to reboot your system after update</p>
</blockquote>
<h3 id="install-nvidia-driver">install Nvidia driver</h3>
<p><strong>install akmod-nvidia</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo dnf install gcc kernel-headers kernel-devel akmod-nvidia xorg-x11-drv-nvidia xorg-x11-drv-nvidia-libs xorg-x11-drv-nvidia-libs.i686
</code></pre></div><p><strong>install cuda</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo dnf install xorg-x11-drv-nvidia-cuda
</code></pre></div><p><strong>Drivers are installed, run the below command</strong></p>
<p>run <code>sudo akmods --force</code> and <code>sudo dracut --force</code> and then <code>reboot</code>.</p>
<p><strong>and that&rsquo;s it, the switch happens automatically when needed.</strong></p>
<blockquote>
<p>note this guide will disable wayland, X.org only supported.</p>
</blockquote>
<p><strong>to check NVIDIA Processes run the command <code>nvidia-smi</code></strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">nvidia-smi
</code></pre></div><pre><code>Wed Nov 25 09:51:36 2020       
+-----------------------------------------------------------------------------+
| NVIDIA-SMI 455.45.01    Driver Version: 455.45.01    CUDA Version: 11.1     |
|-------------------------------+----------------------+----------------------+
| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |
| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |
|                               |                      |               MIG M. |
|===============================+======================+======================|
|   0  GeForce GTX 166...  Off  | 00000000:01:00.0 Off |                  N/A |
| N/A   33C    P8     4W /  N/A |      5MiB /  5944MiB |      0%      Default |
|                               |                      |                  N/A |
+-------------------------------+----------------------+----------------------+
                                                                               
+-----------------------------------------------------------------------------+
| Processes:                                                                  |
|  GPU   GI   CI        PID   Type   Process name                  GPU Memory |
|        ID   ID                                                   Usage      |
|=============================================================================|
|    0   N/A  N/A      1776      G   /usr/libexec/Xorg                   4MiB |
+-----------------------------------------------------------------------------+
</code></pre><h4 id="screenshot">screenshot</h4>
<p><img src="/images/nvidia/nvidia_x_server_setting.png" alt="NVIDIA X Server Setting">
<img src="/images/nvidia/nvidia-smi.png" alt="nvidia-smi">
<img src="/images/nvidia/fedora_about.png" alt="fedora_about"></p>

      </div>
    </article>

    <hr />

    <div class="post-info">
      
    <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7" y2="7"></line></svg>

        <span class="tag"><a href="https://tayeh.me/tags/fedora/">fedora</a></span>
        <span class="tag"><a href="https://tayeh.me/tags/nvidia/">NVIDIA</a></span>
        <span class="tag"><a href="https://tayeh.me/tags/hybrid-graphics/">Hybrid-Graphics</a></span>
        
    </p>

      

      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text">
          <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
          <polyline points="14 2 14 8 20 8"></polyline>
          <line x1="16" y1="13" x2="8" y2="13"></line>
          <line x1="16" y1="17" x2="8" y2="17"></line>
          <polyline points="10 9 9 9 8 9"></polyline>
        </svg>
        310 Words
      </p>

      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar">
          <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
          <line x1="16" y1="2" x2="16" y2="6"></line>
          <line x1="8" y1="2" x2="8" y2="6"></line>
          <line x1="3" y1="10" x2="21" y2="10"></line>
        </svg>
        
          2020-11-25 09:27
        

         
          
        
      </p>
    </div>

    
    <div class="pagination">
        
        <div class="pagination__title">
            <span class="pagination__title-h">Read other posts</span>
            <hr />
        </div>
        

        <div class="pagination__buttons">
            
            <span class="button previous">
                <a href="https://tayeh.me/posts/install_php8_centos/">
                    <span class="button__icon">←</span>
                    <span class="button__text">How to Install PHP 8 on CentOS 7/8 and Fedora</span>
                </a>
            </span>
            

            
            <span class="button next">
                <a href="https://tayeh.me/posts/github_actions_via_ssh/">
                    <span class="button__text">How to automate a deploy with GitHub actions via SSH</span>
                    <span class="button__icon">→</span>
                </a>
            </span>
            
        </div>
    </div>


    

    

  </main>

            </div>

            
                <footer class="footer">
    
    
</footer>

            
        </div>

        



<script type="text/javascript" src="/bundle.min.599099f1f14b78b657d524b28e10e0c5098e7cd46e9c7aed73d577068a276c3ff1bb234cbf29cb313333e83cf411727b43157c91ce5b809e2ffc81664614608e.js" integrity="sha512-WZCZ8fFLeLZX1SSyjhDgxQmOfNRunHrtc9V3BoonbD/xuyNMvynLMTMz6Dz0EXJ7QxV8kc5bgJ4v/IFmRhRgjg=="></script>



    </body>
</html>
